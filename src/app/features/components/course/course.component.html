<section class="max-w-7xl mx-auto px-4 py-10 flex flex-col gap-5">

  <ul class="w-full flex gap-2 md:gap-4 text-lg" #searchBar>
    <input [(ngModel)]="inputValue" type="text" placeholder="Search..." class="px-4 py-2 flex-1 border-2 border-blue-500 border-opacity-25 focus:border-opacity-100 duration-300 rounded-lg outline-none" />
    <button (click)="handleSearch()" class="bg-blue-600 text-white px-4 md:px-6 py-2 rounded-lg hover:bg-blue-500 transition duration-300">Search</button>
  </ul>

  <!-- <select
  *ngIf="categoryService?.categories"
  class="bg-blue-500 text-white py-2 px-4 rounded-lg shadow-md hover:bg-blue-600 transition duration-300"
  (change)="handleCategoryActive($event.target.value)"
  [value]="categoryActive"
>
  <option
    *ngFor="let c of categoryService?.categories"
    [value]="c.categoryId"
    [ngClass]="categoryActive == c.categoryId ? 'bg-blue-700' : 'bg-blue-500'"
  >
    {{ c.categoryName }}
  </option>
</select> -->

  <ul class="flex flex-wrap justify-center gap-4">
    <li
      *ngFor="let c of categories"
      (click)="handleCategoryActive(c.categoryId)"
      [ngClass]="categoryActive == c.categoryId ? 'bg-blue-700' : 'bg-blue-500'"
      class="cursor-pointer text-white py-2 px-4 rounded-lg shadow-md text-center hover:bg-blue-600 transition duration-300"
    >
      {{ c.categoryName }}
    </li>
  </ul>

  <ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8">

    @for (course of coursesForShow; track $index) {
          <li
            class="bg-blue-500 bg-opacity-10 shadow-md shadow-blue-100 duration-300 hover:shadow-lg hover:shadow-blue-200  rounded-lg flex flex-col gap-3 cursor-pointer pb-4"
            [routerLink]="['/courses', course.id]">

            <img [src]="course.image" class="aspect-video w-full rounded-lg shadow-md shadow-blue-200">

            <h2 class="px-2 md:px-4 lg:px-6 font-medium">{{course.title}}</h2>

            <div class="px-2 md:px-4 lg:px-6 flex items-center gap-2 text-neutral-500 font-medium">
              <img [src]="instructorsService.instructors[course.instructorId].image" alt="." class="w-8 h-8 rounded-full shadow-md">
              {{instructorsService.instructors[(course.instructorId)].name}}
            </div>

            <div class="px-2 md:px-4 lg:px-6 text-neutral-500">
              <i class="text-violet-500 font-bold">$</i>
              {{course.price}}
              <i class="fa-solid fa-clock ms-4 text-violet-500"></i>
              {{course.hours}} Hours
            </div>

            <div *ngIf="course.percentage == 100" class="px-2 md:px-4 lg:px-6 flex items-center gap-2 mt-2">
              <i class="fa-solid fa-circle-check text-blue-500"></i>
              completed
            </div>

            <p class="px-2 md:px-4 lg:px-6 text-neutral-500">{{course.description}}</p>

          </li>

    }

  </ul>

</section>
